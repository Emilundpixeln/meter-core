var p=Object.create;var t=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var a=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var d=(o,e)=>{for(var r in e)t(o,r,{get:e[r],enumerable:!0})},f=(o,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of m(e))!w.call(o,l)&&l!==r&&t(o,l,{get:()=>e[l],enumerable:!(n=b(e,l))||n.enumerable});return o};var g=(o,e,r)=>(r=o!=null?p(a(o)):{},f(e||!o||!o.__esModule?t(r,"default",{value:o,enumerable:!0}):r,o)),k=o=>f(t({},"__esModule",{value:!0}),o);var $={};d($,{Decompressor:()=>c});module.exports=k($);var u=require("lz4-napi"),h=g(require("oodle")),i=require("snappyjs"),c=class{oodle;xorTable;constructor(e,r){if(this.oodle=new h.default.Oodle(e),r.length!=256)throw new Error("Invalid xorTable length");this.xorTable=r}decrypt(e,r,n,l){l&&this.xor(e,r);let s;switch(n){case 0:{s=e;break}case 1:{s=(0,u.uncompressSync)(e);break}case 2:{s=(0,i.uncompress)(e);break}case 3:{if(e.length<4)throw new Error(`Invalid oodle packet: size=${e.length}, comp=${n}, opcode=${r}`);s=this.oodle.decode(e.subarray(4),e.readUInt32LE(0));break}default:throw new Error(`Unknown compression: ${n}`)}if(s.length<16)throw new Error(`Invalid packet: size=${s.length}, comp=${n}, opcode=${r}`);return s.subarray(16)}xor(e,r){for(let n=0;n<e.length;n++)e[n]^=this.xorTable[r++%256]}};0&&(module.exports={Decompressor});
