"use strict";var S=Object.defineProperty;var Te=Object.getOwnPropertyDescriptor;var ge=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var Ne=(e,t)=>{for(var n in t)S(e,n,{get:t[n],enumerable:!0})},xe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of ge(t))!Se.call(e,u)&&u!==n&&S(e,u,{get:()=>t[u],enumerable:!(r=Te(t,u))||r.enumerable});return e};var Ke=e=>xe(S({},"__esModule",{value:!0}),e);var ze={};Ne(ze,{mapping:()=>Ve});module.exports=Ke(ze);var o=class{b;o;constructor(t){this.b=t,this.o=0}skip(t=0){this.o+=t}bool(){return this.u8()===1}u8(){return this.b.readUint8(this.o++)}i8(){return this.b.readInt8(this.o++)}u16(){let t=this.b.readUint16LE(this.o);return this.o+=2,t}i16(){let t=this.b.readInt16LE(this.o);return this.o+=2,t}u32(){let t=this.b.readUint32LE(this.o);return this.o+=4,t}i32(){let t=this.b.readInt32LE(this.o);return this.o+=4,t}f32(){let t=this.b.readFloatLE(this.o);return this.o+=4,t}u64(){let t=this.b.readBigUint64LE(this.o);return this.o+=8,t}i64(){let t=this.b.readBigInt64LE(this.o);return this.o+=8,t}string(t){let n=this.u16();if(n<=t){n=n*2;let r=this.b.toString("utf16le",this.o,this.o+n);return this.o+=n,r}return""}bytes(t=0,n,r){if(n&&t>n)return Buffer.alloc(0);r&&(t=t*r);let u=Buffer.from(this.b.subarray(this.o,this.o+t));return this.o+=t,u}array(t,n,r){return r&&t>r?[]:new Array(t).fill(void 0).map(n)}};function N(e){let t=new o(e),n={};return n.PacketResultCode=t.u32(),n.Unk1_m=t.bytes(t.u32(),688),n}var x="PKTAuthTokenResult",K=44294;function I(e){let t=new o(e),n={};return t.skip(2),n.TargetId=t.u64(),n.Type=t.u32(),n.SourceId=t.u64(),n}var _="PKTCounterAttackNotify",R=23544;function D(e){let t=new o(e),n={};return n.Unk0=t.u32(),n.SourceId=t.u64(),t.bool()&&(n.Unk2_0=t.u8()),n.Unk3=t.u8(),t.bool()&&(n.Unk4_0=t.u8()),n.TargetId=t.u64(),n.Unk6=t.u64(),n.Unk7=t.u16(),t.bool()&&(n.Unk8_0=t.u8()),n}var B="PKTDeathNotify",E=21940;var Ie=[0,31,28,31,30,31,30,31,31,30,31,30,31];function _e(e){return!(e%4||!(e%100)&&e%400)}function Re(e,t,n){if(e>99){if(e<1752||e==1752&&(t<9||t==9&&n<<14))return!1}else e+=1900;return n>0&&t<=12&&(n<=Ie[t]||n==29&&t==2&&_e(e))}function se(e){let t=Number(e&0xffffffffn),n=Number(e>>32n&0xffffffffn),r=t&4095,u=(t&65535)>>12,U=t>>16&31;Re(r,u,U)||(r=u=U=0);let P=t>>21&31,d=t>>26&63,T=n&63,g=n>>6&16383;return P<24&&d<60&&T<60&&g<1e3||(P=24,d=T=g=0),new Date(Date.UTC(r<=99?r+1900:r,u-1,U,P,d,T,g))}function c(e){let t=e.u16();return(t&4095)<2079?(e.o-=2,se(e.i64())):se(BigInt(t)&0xfffn|0x11000n)}function h(e){let t=new o(e),n={};return n.Unk0=t.u8(),n.PlayerId=t.u64(),n.lostArkDateTime=c(t),n.Unk3=t.u32(),n.Unk4=t.u32(),n.Unk5=t.u64(),n.struct_544=t.string(128),n.struct_26=t.array(t.u16(),()=>{let r={};return r.struct_544=t.string(128),r.versionString=t.string(64),r.struct_531=t.string(32),r},64),n}var A="PKTInitEnv",w=12201;function De(e){if(e.length===0)return 0n;if(e.length>8)throw new Error("Value is too large");let t=Buffer.alloc(8);return e.copy(t),t.readBigInt64LE()}function a(e){let t=e.u8(),n=e.bytes(t>>1&7),r=De(n)<<4n|BigInt(t>>4);return(t&1)===0?r:-r}function s(e){let t={};return t.SourceId=e.u64(),t.Unk1=e.u32(),t.Unk2=e.u8(),t.lostArkDateTime=c(e),t.SkillLevel=e.u8(),t.StatusEffectId=e.u32(),t.struct_422=e.bytes(e.u16(),8,7),t.InstanceId=e.u64(),e.bool()&&(t.Value=e.bytes(16)),e.bool()&&(t.Unk9_0=e.u64()),t.EffectInstanceId=e.u32(),t}function k(e){let t={};return t.Unk0=e.u64(),t.Unk1=a(e),t.Unk2=e.u8(),t.Unk3=e.u16(),t.Unk4=a(e),t.Unk5=e.u8(),t.Unk6=e.u8(),t}function L(e){let t=new o(e),n={};return n.Unk0=t.bytes(25),n.Unk1=t.u16(),n.Unk2=t.u32(),n.ClassId=t.u16(),n.Unk4=t.u64(),n.Unk5=t.u32(),n.Unk6=t.u8(),n.Unk7=t.u16(),n.Unk8=t.u16(),t.skip(66),n.Level=t.u16(),t.skip(44),n.statPair=t.array(t.u16(),()=>{let r={};return r.readNBytesInt64=a(t),r.Unk0_0_1=t.u8(),r},152),n.Unk11=t.u32(),n.Unk12=t.u8(),n.Unk13=t.u16(),n.Unk14=t.u32(),n.Unk15=t.u8(),n.statusEffectDatas=t.array(t.u16(),()=>s(t),80),n.Unk17=t.u8(),n.struct_325=t.bytes(t.u16(),104,30),n.Unk19=t.u64(),n.Unk20=t.u32(),n.Unk21=t.u8(),n.Unk22=t.u8(),n.Unk23=t.u32(),n.Unk24=t.u8(),n.Unk25=t.u32(),n.Unk26=t.u8(),n.Unk27=t.u8(),n.PlayerId=t.u64(),n.Unk29=t.u16(),n.Name=t.string(20),n.Unk31=t.u8(),n.Unk32=t.u32(),n.Unk33=t.u8(),n.struct_373=t.array(t.u16(),()=>k(t),5),n.Unk35=t.u8(),t.bool()&&(n.Unk36_0=t.u32()),n.Unk37=t.u32(),n.Unk38=t.u8(),n.Unk39=t.u64(),n.CharacterId=t.u64(),n.struct_320=t.string(7),n.Unk42=t.u8(),n.Unk43=t.u8(),n.Unk44=t.u32(),n.struct_219=t.bytes(t.u16(),3,17),n.Unk46=t.u64(),n.Unk47=t.u8(),n.Unk48=t.u8(),n.Unk49=t.u32(),n.GearLevel=t.u32(),n.Unk51=t.u8(),n.struct_92=t.bytes(t.u16(),57),n.Unk53=t.bytes(35),n.Unk54=t.u8(),n.Unk55=t.u8(),n.Unk56=t.u32(),n}var O="PKTInitPC",j=44217;function b(e){let t={};return t.Unk0=e.u16(),t.Unk1=e.u32(),t.Unk2=e.u16(),t.lostArkDateTime=c(e),e.bool()&&(t.Unk4_0=e.u8()),t.struct_429=e.bytes(e.u16(),3,14),t}function fe(e){let t={};return t.Unk0=e.u16(),t.Unk1=e.u8(),t.Unk2=e.u64(),t.struct_85=e.bytes(e.u32(),512),t.lostArkString=e.string(20),t.struct_301=e.array(e.u16(),()=>b(e),30),t.Unk6=e.u8(),t.Unk7=e.u8(),t}function F(e){return e>>20===1?-((~e>>>0)+1&2097151):e}function i(e){let t=e.u64();return{x:F(Number(t&0x1fffffn)),y:F(Number(t>>21n&0x1fffffn)),z:F(Number(t>>42n&0x1fffffn))}}function m(e){return e.u16()*(2*Math.PI)/65536}function l(e){let t={};return e.bool()&&(t.struct_675=fe(e)),e.bool()&&(t.TransitIndex=e.u32()),t.Unk2=e.u8(),e.bool()&&(t.struct_321=e.bytes(e.u16(),11,9)),t.ObjectId=e.u64(),t.SpawnIndex=e.i32(),t.statusEffectDatas=e.array(e.u16(),()=>s(e),80),t.Unk7=e.u8(),t.Position=i(e),e.bool()&&(t.Unk9_0=e.u32()),t.Unk10=e.u8(),e.bool()&&(t.Unk11_0=e.u32()),e.bool()&&(t.struct_255=e.bytes(e.u16(),12,12)),t.Unk13=e.u8(),t.Unk14=e.u16(),t.TypeId=e.u32(),e.bool()&&(t.Unk16_0=e.u16()),e.bool()&&(t.Unk17_0=e.u32()),t.DirectionYaw=m(e),e.bool()&&(t.Unk19_0=e.u8()),e.bool()&&(t.Unk20_0=e.u8()),e.bool()&&(t.Unk21_0=e.u8()),t.Unk22=e.u8(),e.bool()&&(t.Unk23_0=e.u8()),t.statPair=e.array(e.u16(),()=>{let n={};return n.readNBytesInt64=a(e),n.Unk0_0_1=e.u8(),n},152),e.bool()&&(t.Unk25_0=e.u64()),e.bool()&&(t.Unk26_0=e.u16()),e.bool()&&(t.Unk27_0=e.u8()),t.Unk28=e.u8(),e.bool()&&(t.Unk29_0=e.u32()),e.bool()&&(t.Unk30_0=e.u8()),t.struct_373=e.array(e.u16(),()=>k(e),5),e.bool()&&(t.Unk32_0=e.u8()),t}function z(e){let t=new o(e),n={};return t.bool()&&(n.Unk0_0=t.u8()),t.bool()&&(n.Unk1_0=t.u64()),n.NpcStruct=l(t),n.Unk3=t.u8(),n}var H="PKTNewNpc",Y=31638;function G(e){let t=new o(e),n={};return n.PublishReason=t.u8(),t.skip(9),n.OwnerId=t.u64(),t.skip(22),n.NpcData=l(t),n}var W="PKTNewNpcSummon",Z=57156;function ce(e){let t={};return t.Unk0=e.u32(),t.Unk1=e.u32(),t.Unk2=e.bytes(12),e.bool()&&(t.Unk3_0=e.bytes(12)),t}function ke(e){let t={};return t.Unk0=e.string(20),t.Unk1=e.u16(),t.Unk2=e.u8(),t.Unk3=e.u32(),t.Unk5_m=e.u32(),e.bool()&&(t.Unk5_0=e.bytes(12)),t.Unk6=e.u8(),t.struct_373=e.array(e.u16(),()=>k(e),5),t.struct_301=e.array(e.u16(),()=>b(e),30),t.Unk9=e.u8(),t.Unk10=e.u16(),t.GearLevel=e.u32(),t.struct_3=e.array(e.u16(),()=>{let n={};return n.struct_102=e.bytes(e.u16(),5,4),n.Unk0_0_1=e.u32(),n},200),t.Unk13=e.u8(),t.Unk14=e.u8(),t.Unk15=e.u8(),t.Unk16=e.u32(),t.Unk17=e.u8(),t.Level=e.u16(),t.struct_85=e.bytes(e.u32(),512),t.Unk20=e.u8(),t.Unk21=e.u8(),t.Unk22=e.u32(),t.Heading=m(e),t.Unk24=e.u64(),t.Unk25=e.u8(),t.CharacterId=e.u64(),t.struct_300=e.array(e.u16(),()=>b(e),9),t.Unk28=e.u32(),t.Unk29=e.u8(),t.struct_118=e.bytes(e.u16(),200,4),t.ClassId=e.u16(),t.Unk32=e.u32(),t.Unk33=e.bytes(5),t.Name=e.string(20),t.Unk35=e.u32(),t.Unk36=e.u32(),t.statPair=e.array(e.u16(),()=>{let n={};return n.readNBytesInt64=a(e),n.Unk0_0_1=e.u8(),n},152),t.Unk38=e.bytes(25),t.Unk39=e.u8(),t.Unk40=e.u16(),t.Unk41=e.u32(),t.statusEffectDatas=e.array(e.u16(),()=>s(e),80),t.PlayerId=e.u64(),t}function q(e){let t=new o(e),n={};return t.bool()&&(n.TrackMoveInfo=ce(t)),t.bool()&&(n.Unk5_0_m=t.bytes(20)),n.Unk2_m=t.u8(),t.bool()&&(n.Unk3_0_m=t.u32()),n.Unk0_m=t.u8(),t.bool()&&(n.Unk4_0_m=t.bytes(12)),n.PCStruct=ke(t),n}var J="PKTNewPC",Q=13099;function pe(e){let t={};return t.Unk0=e.u16(),t.ProjectileId=e.u64(),t.Unk2=e.u32(),t.Unk3=e.u8(),e.bool()&&(t.Unk4_0=e.u32()),e.bool()&&(t.struct_321=e.bytes(e.u16(),11,9)),t.Unk6=e.u32(),t.Unk7=e.u32(),t.SkillEffect=e.u32(),t.Tripods=e.bytes(3),t.Unk10=e.u64(),t.Unk11=e.u32(),t.SkillLevel=e.u8(),t.Unk13=e.bytes(6),t.Unk14=e.u64(),t.Unk15=e.u8(),t.Unk16=e.u16(),e.bool()&&(t.Unk17_0=e.u64()),t.Unk18=e.u64(),t.SkillId=e.u32(),t.OwnerId=e.u64(),t}function X(e){let t=new o(e),n={};return n.projectileInfo=pe(t),n}var $="PKTNewProjectile",tt=1296;function et(e){let t=new o(e),n={};return n.Unk0=t.bytes(30),n}var nt="PKTParalyzationStateNotify",ot=1696;function be(e){let t={};return t.CharacterLevel=e.u16(),t.Unk1=e.u8(),t.Unk2=e.u64(),t.Unk3=e.u8(),t.Unk4=e.u32(),t.Unk5=e.u16(),t.Unk6=a(e),t.Name=e.string(20),t.PartyMemberNumber=e.u8(),t.Unk9=e.u64(),t.Unk10=a(e),t.CharacterId=e.u64(),t.Unk12=e.u8(),t.Unk13=e.u8(),t.Unk14=e.u8(),t.Unk15=e.u8(),t.Unk16=e.u32(),t.Unk17=e.u32(),t.Unk18=e.u8(),t.Unk19=e.u16(),t}function rt(e){let t=new o(e),n={};return n.PartyInstanceId=t.u32(),n.MemberDatas=t.array(t.u16(),()=>be(t),40),n.PartyType=t.u8(),n.RaidInstanceId=t.u32(),n.LootGrade=t.u32(),n.PartyLootType=t.u8(),n}var at="PKTPartyInfo",ut=20135;function st(e){let t=new o(e),n={};return n.PartyInstanceId=t.u32(),n.Name=t.string(20),n.PartyLeaveType=t.u8(),n}var it="PKTPartyLeaveResult",ft=12275;function mt(e){let t=new o(e),n={};return n.statusEffectDatas=t.array(t.u16(),()=>s(t),80),n.PlayerIdOnRefresh=t.u64(),n.CharacterId=t.u64(),n.Unk3=t.u64(),n.Unk4=t.u8(),n}var ct="PKTPartyStatusEffectAddNotify",kt=8895;function pt(e){let t=new o(e),n={};return n.Unk0=t.u64(),n.Unk1=t.u8(),n.CharacterId=t.u64(),n.statusEffectIds=t.array(t.u16(),()=>t.u32(),80),n}var bt="PKTPartyStatusEffectRemoveNotify",lt=13843;function yt(e){let t=new o(e),n={};return n.CharacterId=t.u64(),t.skip(1),n.RaidInstanceId=t.u32(),t.skip(25),n.PartyInstanceId=t.u32(),t.skip(1),n}var Ut="PKTPartyStatusEffectResultNotify",Pt=601;function dt(e){let t=new o(e),n={};return n.Unk0=t.bytes(5),n}var Tt="PKTRaidBossKillNotify",gt=20140;function St(e){let t=new o(e),n={};return n.Unk0=t.u8(),n.Unk1=t.u64(),n.Unk2=t.u8(),n.Unk3=t.u64(),n.Unk4=t.u8(),n.struct_44=t.array(t.u16(),()=>{let r={};return r.struct_493=t.bytes(t.u16(),3),r.Unk0_0_1=a(t),r.Unk0_0_2=t.u32(),r.Unk0_0_3=a(t),r},3),n.Unk6=t.u64(),n.Unk7=t.u64(),n}var Nt="PKTRaidResult",xt=17609;function le(e){let t={};return t.UnpublishReason=e.u8(),t.ObjectId=e.u64(),t}function Kt(e){let t=new o(e),n={};return n.unpublishedObjects=t.array(t.u16(),()=>le(t),200),n}var It="PKTRemoveObject",_t=39958;function ye(e){let t={},n=e.u8();return n&1&&(t.flag1=e.u32()),n&2&&(t.flag2=e.u32()),n&4&&(t.flag4=e.u32()),n&8&&(t.flag8=e.u32()),n&16&&(t.flag10=e.u32()),n&32&&(t.flag20=e.u32()),n&64&&(t.flag40=e.bytes(e.u16(),6)),t}function y(e){let t={};return t.CurHp=a(e),t.TargetId=e.u64(),t.MaxHp=a(e),e.bool()&&(t.DamageAttr=e.u8()),t.DamageType=e.u8(),t.Unk3_m=e.i16(),t.Modifier=e.u8(),t.Damage=a(e),t}function Pe(e){let t={};return t.Unk0_m=ye(e),t.Unk8_m=e.u16(),t.Unk2_m=e.u64(),t.Destination=i(e),t.Unk4_m=e.u16(),t.skillDamageEvent=y(e),t.Position=i(e),t.Unk3_m=e.u16(),t.Unk1_m=e.u8(),t}function Rt(e){let t=new o(e),n={};return n.Unk2_m=t.u32(),n.SourceId=t.u64(),n.Unk1_m=t.u8(),n.SkillDamageAbnormalMoveEvents=t.array(t.u16(),()=>Pe(t),50),n.SkillEffectId=t.u32(),n.SkillId=t.u32(),n}var Dt="PKTSkillDamageAbnormalMoveNotify",Bt=29416;function Et(e){let t=new o(e),n={};return n.SkillDamageEvents=t.array(t.u16(),()=>y(t),50),n.SkillId=t.u32(),n.SourceId=t.u64(),n.SkillLevel=t.u8(),n.SkillEffectId=t.u32(),n}var vt="PKTSkillDamageNotify",ht=1847;function At(e){let t=new o(e),n={};return t.skip(29),n.SourceId=t.u64(),t.skip(4),n.Stage=t.u8(),t.skip(8),n.SkillId=t.u32(),n}var wt="PKTSkillStageNotify",Ct=6028;function de(e){let t={},n=e.u8();return n&1&&(t.flag1=e.u8()),n&2&&(t.flag2=e.u8()),n&4&&(t.flag4=e.u32()),n&8&&(t.flag8=e.u32()),n&16&&(t.flag10=e.u32()),n&32&&(t.flag20=e.bytes(3)),n&64&&(t.flag40=e.bytes(6)),t}function Lt(e){let t=new o(e),n={};return n.AimTargetPosition=i(t),n.CurPosition=i(t),n.CurDirectionYaw=m(t),t.bool()&&(n.PitchRotation=m(t)),n.SkillId=t.u32(),n.NewPosition=i(t),n.SourceId=t.u64(),t.bool()&&(n.Unk1_m=t.i32()),n.SkillOptionData=de(t),t.bool()&&(n.AiStateId=t.u32()),n.SkillLevel=t.u8(),n.NewDirectionYaw=m(t),n}var Ot="PKTSkillStartNotify",jt=45202;function Ft(e){let t=new o(e),n={};return n.StatPairList=t.array(t.u16(),()=>{let r={};return r.readNBytesInt64=a(t),r.Unk0_0_1=t.u8(),r},152),n.Unk1=t.array(t.u16(),()=>{let r={};return r.readNBytesInt64=a(t),r.Unk0_0_1=t.u8(),r},152),n.Unk2=t.u8(),t.bool()&&(n.Unk3_0=t.u32()),n.ObjectId=t.u64(),n}var Mt="PKTStatChangeOriginNotify",Vt=36460;function zt(e){let t=new o(e),n={};return n.ObjectId=t.u64(),t.bool()&&(n.Unk1_0=t.u64()),n.statusEffectData=s(t),n.Unk3=t.u64(),n.New=t.bool(),n}var Ht="PKTStatusEffectAddNotify",Yt=4713;function Gt(e){let t=new o(e),n={};return n.statusEffectIds=t.array(t.u16(),()=>t.u32(),80),n.Reason=t.u8(),n.ObjectId=t.u64(),n}var Wt="PKTStatusEffectRemoveNotify",Zt=55030;function qt(e){let t=new o(e),n={};return n.ObjectId=t.u64(),t.skip(1),n.EffectInstanceId=t.u32(),t.skip(4),n.Value=t.u32(),n.CharacterId=t.u64(),t.skip(1),n}var Jt="PKTStatusEffectSyncDataNotify",Qt=35589;function Xt(e){let t=new o(e),n={};return n.Unk2_m=t.bool(),n.Step=t.u32(),n.TriggerId=t.u32(),t.skip(1),n}var $t="PKTTriggerBossBattleStatus",te=35800;function ee(e){let t=new o(e),n={};return n.TriggerId=t.u32(),n.PacketResultCode=t.u32(),n.Unk0_m=t.u32(),n.InvolvedPCs=t.array(t.u16(),()=>t.u64(),40),n}var ne="PKTTriggerFinishNotify",oe=53300;function re(e){let t=new o(e),n={};return n.TriggerId=t.u32(),n.InvolvedPCs=t.array(t.u16(),()=>t.u64(),40),n.SourceId=t.u64(),n.TriggerSignalType=t.u32(),n}var ae="PKTTriggerStartNotify",ue=50016;var Ve=new Map([[K,[x,N]],[R,[_,I]],[E,[B,D]],[w,[A,h]],[j,[O,L]],[Y,[H,z]],[Z,[W,G]],[Q,[J,q]],[tt,[$,X]],[ot,[nt,et]],[ut,[at,rt]],[ft,[it,st]],[kt,[ct,mt]],[lt,[bt,pt]],[Pt,[Ut,yt]],[gt,[Tt,dt]],[xt,[Nt,St]],[_t,[It,Kt]],[Bt,[Dt,Rt]],[ht,[vt,Et]],[Ct,[wt,At]],[jt,[Ot,Lt]],[Vt,[Mt,Ft]],[Yt,[Ht,zt]],[Zt,[Wt,Gt]],[Qt,[Jt,qt]],[te,[$t,Xt]],[oe,[ne,ee]],[ue,[ae,re]]]);0&&(module.exports={mapping});
